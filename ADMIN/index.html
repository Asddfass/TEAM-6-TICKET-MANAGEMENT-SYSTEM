<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard - Ticketing System</title>
  <link rel="stylesheet" href="CSS/AdminDashboard.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Sidebar navigation panel -->
  <div class="sidebar">
    <!-- Admin profile picture -->
    <img src="../IMG/adminPic.jpg" alt="Admin Picture" />
    <h2>Hello Ali!</h2>
    <!-- Navigation links for different sections -->
    <ul class="nav-links">
      <li onclick="showSection('dashboard')">Dashboard</li>
      <li onclick="showSection('tickets')">Manage Tickets</li>
      <li onclick="showSection('users')">Users</li>
      <li onclick="showSection('reports')">Reports</li>
      <li onclick="showSection('settings')">Settings</li>
      <li onclick="showSection('logout')">Logout</li>
    </ul>
  </div>

  <!-- Main content area where different sections are displayed -->
  <div class="main-content">
    <!-- Dashboard section: visible by default -->
    <div id="dashboard" class="section">
      <h1>Welcome, Ali!</h1>
      <!-- Summary statistics cards -->
      <div class="stats">
        <div class="card">
          <h2>124</h2>
          <p>Tickets Availed</p>
        </div>
        <div class="card">
          <h2>58</h2>
          <p>Tickets Pending</p>
        </div>
        <div class="card">
          <h2>23</h2>
          <p>Users Online</p>
        </div>
        <div class="card">
          <h2>320</h2>
          <p>Total Users</p>
        </div>
      </div>

      <!-- List of currently online users -->
      <div class="online-users">
        <h2>Currently Online Users</h2>
        <ul>
          <li>John Doe</li>
          <li>Jane Smith</li>
          <li>Mike Johnson</li>
          <li>Emily Davis</li>
        </ul>
      </div>

      <!-- Detailed table of online user information -->
      <div class="user-info">
        <h2>Online User Details</h2>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th>Role</th>
              <th>Status</th>
              <th>Last Active</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>John Doe</td>
              <td>ae202401395@wmsu.edu.ph.</td>
              <td>Support Agent</td>
              <td>Online</td>
              <td>5 mins ago</td>
            </tr>
            <tr>
              <td>Jane Smith</td>
              <td>ae202401395@wmsu.edu.ph.</td>
              <td>Manager</td>
              <td>Online</td>
              <td>Just now</td>
            </tr>
            <tr>
              <td>Mike Johnson</td>
              <td>ae202401395@wmsu.edu.ph</td>
              <td>Support Agent</td>
              <td>Online</td>
              <td>2 mins ago</td>
            </tr>
            <tr>
              <td>Emily Davis</td>
              <td>ae202401395@wmsu.edu.ph.</td>
              <td>Customer</td>
              <td>Online</td>
              <td>1 min ago</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Container for the bar chart showing monthly ticket data -->
      <div class="chart-container" style="max-width: 600px; height: 300px; margin: auto;">
        <canvas id="ticketChart"></canvas>
      </div>
    </div>

    <!-- Manage Tickets section -->
    <div id="tickets" class="section" style="display:none">
      <h1>Manage Tickets</h1>
      <table id="ticketsTable" style="width: 100%; border-collapse: collapse; margin-top: 10px;">
        <thead>
          <tr style="background-color: crimson; color: white;">
            <th style="padding: 10px; border: 1px solid #ddd;">Ticket ID</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Subject</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Status</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Priority</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Assigned To</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: 10px; border: 1px solid #ddd;">#001</td>
            <td style="padding: 10px; border: 1px solid #ddd;">Login Issue</td>
            <td style="padding: 10px; border: 1px solid #ddd;">Open</td>
            <td style="padding: 10px; border: 1px solid #ddd;">High</td>
            <td style="padding: 10px; border: 1px solid #ddd;">John Doe</td>
            <td style="padding: 10px; border: 1px solid #ddd;">
              <button class="viewBtn">View</button>
              <button class="editBtn">Edit</button>
              <button class="deleteBtn">Delete</button>
            </td>
          </tr>
          <!-- Add more ticket rows as needed -->
        </tbody>
      </table>
    </div>

    <!-- Users section -->
    <div id="users" class="section" style="display:none">
      <h1>Users</h1>
      <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
          <tr style="background-color: crimson; color: white;">
            <th style="padding: 10px; border: 1px solid #ddd;">Name</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Email</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Role</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Status</th>
            <th style="padding: 10px; border: 1px solid #ddd;">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="padding: 10px; border: 1px solid #ddd;">John Doe</td>
            <td style="padding: 10px; border: 1px solid #ddd;">john@example.com</td>
            <td style="padding: 10px; border: 1px solid #ddd;">Support Agent</td>
            <td style="padding: 10px; border: 1px solid #ddd;">Pending</td>
            <td style="padding: 10px; border: 1px solid #ddd;">
              <button class="approve-btn" onclick="approveUser(this)">Approve</button>
              <button class="reject-btn" onclick="rejectUser(this)">Reject</button>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- Confirmation Modal -->
      <div id="confirmationModal" class="modal">
        <div class="modal-content">
          <h2>Confirm Action</h2>
          <p id="modalMessage"></p>
          <div class="modal-buttons">
            <button id="confirmBtn">Confirm</button>
            <button id="cancelBtn">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Reports section -->
    <div id="reports" class="section" style="display:none">
      <h1>Reports</h1>
      <div class="stats">
        <div class="card">
          <h2>197</h2>
          <p>Total Tickets</p>
        </div>
        <div class="card">
          <h2>65</h2>
          <p>Open Tickets</p>
        </div>
        <div class="card">
          <h2>102</h2>
          <p>Closed Tickets</p>
        </div>
        <div class="card">
          <h2>30</h2>
          <p>Pending Tickets</p>
        </div>
      </div>
      <div class="chart-container">
        <canvas id="reportChart"></canvas>
      </div>
      <div class="chart-container">
        <canvas id="trendChart"></canvas>
      </div>
    </div>

    <!-- Settings section -->
    <div id="settings" class="section" style="display:none">
      <h1>Settings</h1>
      <form>
        <label for="notifications">Email Notifications:</label><br />
        <select id="notifications" name="notifications">
          <option value="enabled">Enabled</option>
          <option value="disabled">Disabled</option>
        </select><br />
        <button type="button" onclick="saveSettings()">Save</button>
      </form>
    </div>

    <!-- Logout section -->
    <div id="logout" class="section" style="display:none">
      <h1>Logout</h1>
      <p>Are you sure you want to logout?</p>
      <button onclick="handleLogout()">Logout</button>
    </div>
  </div>
  
  <script src="SCRIPT/admin.js"></script>
</body>
</html>
